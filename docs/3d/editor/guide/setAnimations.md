其实，在上一篇“设置事件”中，我们已经实现了一个简单的过渡动画效果：颜色逐渐变化。但是这种效果比较简单，它只能单一的从一种状态过渡到另一种状态，无法按帧配置，也无法手动停止。所幸，我们的动画系统提供了这些功能，下面我们通过一个简单的案例来介绍如何使场景元素按照我们预设的效果“动起来”。

假设我们需要实现这样一个功能：在场景中有两个按钮和一个报警装置，点击其中一个按钮，让报警装置闪烁，点击另一个按钮，让报警装置停止闪烁。

接下来我们就逐步实现这个功能。
## 准备模型
我们往场景中拖入两个立方体和一个球体。其中，球体当作是报警装置，两个立方体分别称为立方体A和立方体B，当作是两个按钮，点击立方体A时球体闪烁，点击立方体B时球体停止闪烁。为了区分两个立方体，我们在右侧属性面板中将两个立方体的名称分别修改为“立方体A”和“立方体B”。

当然，只是这样的话球体是无法改变颜色的，我们需要给球体设置一个材质。选中球体，在右侧属性面板中切换到效果选项卡，在材质中点击添加，球体就会绑定一个标准材质。您可以尝试下修改材质的颜色属性，可以发现球体表面的颜色会发生变化。然后我们将球体的材质颜色恢复为白色，这样材质就设置好了。
## 设置闪烁动画
接下来，我们需要给球体设置一个颜色闪烁动画。

选中球体，在右侧属性面板中切换至动效选项卡，点击“自定义动画”后面的“+”按钮，会弹出动画编辑窗口。动画名称默认为“animation”，这里我们可以修改为“闪烁”。然后我们需要编辑动画帧。

这里简单介绍下动画帧的概念。所谓动画帧，即在某个时间点目标的各个属性显示状态的集合，而动画帧中的时间表示了目标的各个属性由前一帧的值变化到当前帧的值所需的时间。当动画开始播放的一瞬间，目标的各个属性的值组成了动画的开始帧，也可以称为动画帧0，然后不断的过渡到我们设置的各个动画帧，当过渡到最后一个动画帧时，这段动画就结束了。在事件中，我们可以设置这段动画重复播放的次数，以及播放完毕后是否将目标属性值还原到动画帧0的状态。

对于球体的颜色闪烁动画，它实际是由下列步骤组成的：当动画开始时，球体为白色，经过1秒，球体变为红色，再经过1秒，球体变为白色，然后再重复上述过程。因此，加上初始的动画帧0，我们一共需要3个动画帧：白色 -> 红色 -> 白色。动画帧0无需设置，因为我们的球体材质颜色已经设置为白色，动画自然会从白色开始，所以我们还需要设置2个动画帧：红色、白色。

我们首先设置动画帧1，因为面板已经默认添加了动画帧1，所以我们直接编辑即可。在动画编辑面板中滚动到属性设置的底部，将材质 - 颜色修改为“rgba(255, 0, 0, 1)”或者“#F00”（注意，如果没有先给球体设置材质，这里是没有材质相关的属性设置的），过渡时间默认是1秒。

然后点击动画帧1后面的“+”按钮，添加动画帧2，将将动画帧2的材质 - 颜色修改为“rgba(255, 255, 255, 1)”或者“#FFF”，过渡时间默认是1秒。

现在，动画已经设置好了，名称为闪烁，有两个动画帧，动画帧1时间为1秒，颜色为红色，动画帧2时间为1秒，颜色为白色。点击确定，右侧属性面板中自定义动画列表会增加一条动画项。
## 设置动画开始事件
动画的播放和停止需要通过事件的相关动作来控制，下面我们先配置立方体A的动画开始事件。

选中立方体A，右侧属性面板切换至事件选项卡，选择并添加触发事件“鼠标单击后”，点击“+ 动作”按钮，弹出动作编辑弹窗。在下拉项中选择动作“开始动画”，会出现开始动画的相关参数配置。我们将“目标”设置为“球体”，选择播放“闪烁”动画，循环次数不设置或者设置为0表示无限循环，点击确定关闭弹窗。这样，右侧会出现“开始动画”的相关描述，开始动画事件就设置好了。
## 设置动画停止事件
接下来配置立方体B的动画结束事件。

选中立方体B，参考立方体A的动作配置步骤添加“停止动画”，目标也是“球体”，选择停止“闪烁”动画，点击确定。这样，右侧会出现“停止动画”相关描述，停止动画事件也设置好了。
## 执行事件
我们总结下之前的步骤：首先给球体增加材质，颜色设置为白色，然后编辑球体“闪烁”动画，第一帧为红色，第二帧为白色，然后给立方体A设置播放球体的闪烁动画事件，以及给立方体B设置停止球体的闪烁动画事件。最后，仍然要点击“运行”按钮进入项目的运行状态。

点击立方体A，球体的颜色开始闪烁并无限循环执行，点击立方体B，球体会停止闪烁动画并恢复为白色。这样，一个简单的报警案例就完成了。
## 结语
通过动画系统，我们可以实现各种复杂的动画，使场景变得生动有趣。不同类型的目标可配置的动画属性也不同，想要了解更多，请参阅文档[动画](https://www.yuque.com/u479944/afy6zg/ardrxwzn3dz16yel)。
