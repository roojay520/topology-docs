# 概要

meta2d 可视化引擎主要由：画笔（节点、连线）、属性数据、算法、状态、事件、动画等构成。

![乐吾乐meta2d架构图](/img/architecture.png)

**画笔**  
画笔继承 rect，加上自有属性组成。

**状态**  
状态主要有：默认、活动（hover）、选中（active） 3 种。

**坐标**  
meta2d 引擎坐标有 3 种：画笔坐标、相对坐标、世界坐标。

- 画笔坐标：  
  通过 meta2d.getPenRect(pen)获取。不移动画笔，坐标不变。

- 相对坐标：  
  相对父元素或画布的坐标，也是 Pen 数据保存的坐标。相对父元素时，坐标不变；相对画布时（没有父元素），缩放时会因为画布大小变化而变化。

- 世界坐标：  
  底层 canvas 的绘画坐标。
